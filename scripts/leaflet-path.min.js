!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L)}(this,function(exports){function multiCanvas(t){return new MultiCanvas(t)}var L=exports;String.prototype.format=function(){var result=this.split("").join(""),reg=/\{\d*\}/g,res=reg.exec(result);if(res)for(var i=0;i<arguments.length;i++){var n=i;result=result.replace(eval("/\\{"+i+"\\}/g"),arguments[i])}return result},document.oncontextmenu=function(){return!1},L.Bounds.prototype.clone=function(){return new L.Bounds(this.min,this.max)},L.Map.include({_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new L.LatLng(e,i),r=n.toBounds(t.coords.accuracy),s=this._locateOptions;if("GCJ:02"===this.options.crs.code&&(n=LnglatConvert.wgs84togcj02(n)),s.setView){var a=this.getBoundsZoom(r);this.setView(n,s.maxZoom?Math.min(a,s.maxZoom):a)}t.timestamp;this.fire("locationfound",n)}});var LnglatConvert={_x_PI:3e3*Math.PI/180,_a:6378245,_ee:.006693421622965943,bd09togcj02:function(t){var e=(t=L.latLng(t)).lng-.0065,i=t.lat-.006,n=Math.sqrt(e*e+i*i)-2e-5*Math.sin(i*_x_PI),r=Math.atan2(i,e)-3e-6*Math.cos(e*_x_PI);return t.lng=n*Math.cos(r),t.lat=n*Math.sin(r),t},gcj02tobd09:function(t){var e=(t=L.latLng(t)).lat,i=t.lng,n=Math.sqrt(i*i+e*e)+2e-5*Math.sin(e*_x_PI),r=Math.atan2(e,i)+3e-6*Math.cos(i*_x_PI);return t.lng=n*Math.cos(r)+.0065,t.lat=n*Math.sin(r)+.006,t},wgs84togcj02:function(t){var e=(t=L.latLng(t)).lat,i=t.lng;if(this._out_of_china(i,e))return t;var n=this._transformlat(i-105,e-35),r=this._transformlng(i-105,e-35),s=e/180*Math.PI,a=Math.sin(s);a=1-this._ee*a*a;var o=Math.sqrt(a);return n=180*n/(this._a*(1-this._ee)/(a*o)*Math.PI),r=180*r/(this._a/o*Math.cos(s)*Math.PI),t.lat=e+n,t.lng=i+r,t},gcj02towgs84:function(t){var e=(t=L.latLng(t)).lat,i=t.lng;if(this._out_of_china(i,e))return t;var n=this._transformlat(i-105,e-35),r=this._transformlng(i-105,e-35),s=e/180*Math.PI,a=Math.sin(s);a=1-this._ee*a*a;var o=Math.sqrt(a),h=e+(n=180*n/(this._a*(1-this._ee)/(a*o)*Math.PI)),u=i+(r=180*r/(this._a/o*Math.cos(s)*Math.PI));return t.lat=2*e-h,t.lng=2*i-u,t},_out_of_china:function(t,e){return!(t>73.66&&t<135.05&&e>3.86&&e<53.55)},_transformlat:function(t,e){var i=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*Math.PI)+20*Math.sin(2*t*Math.PI))/3,i+=2*(20*Math.sin(e*Math.PI)+40*Math.sin(e/3*Math.PI))/3,i+=2*(160*Math.sin(e/12*Math.PI)+320*Math.sin(e*Math.PI/30))/3},_transformlng:function(t,e){var i=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*Math.PI)+20*Math.sin(2*t*Math.PI))/3,i+=2*(20*Math.sin(t*Math.PI)+40*Math.sin(t/3*Math.PI))/3,i+=2*(150*Math.sin(t/12*Math.PI)+300*Math.sin(t/30*Math.PI))/3}},GCJ02=L.Util.extend({},L.CRS.EPSG3857,{code:"GCJ:02"}),OlineTileLayer=L.TileLayer.extend({initialize:function(t,e){var i=t.split("."),n=i[0],r=i[1],s=i[2],a=this.providers[n][r][s];this.providers[n].subdomains&&(e.subdomains=this.providers[n].subdomains),L.TileLayer.prototype.initialize.call(this,a,e)},providers:{TianDiTu:{Normal:{Map:"http://t{s}.tianditu.cn/DataServer?T=vec_w&X={x}&Y={y}&L={z}",Annotion:"http://t{s}.tianditu.cn/DataServer?T=cva_w&X={x}&Y={y}&L={z}"},Satellite:{Map:"http://t{s}.tianditu.cn/DataServer?T=img_w&X={x}&Y={y}&L={z}",Annotion:"http://t{s}.tianditu.cn/DataServer?T=cia_w&X={x}&Y={y}&L={z}"},Terrain:{Map:"http://t{s}.tianditu.cn/DataServer?T=ter_w&X={x}&Y={y}&L={z}",Annotion:"http://t{s}.tianditu.cn/DataServer?T=cta_w&X={x}&Y={y}&L={z}"},subdomains:["0","1","2","3","4","5","6","7"]},GaoDe:{Normal:{Map:"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}"},Satellite:{Map:"http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",Annotion:"http://webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}"},subdomains:["1","2","3","4"]},Google:{Normal:{Map:"http://mt{s}.google.cn/vt/lyrs=m&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}"},Satellite:{Map:"http://mt{s}.google.cn/vt/lyrs=s&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}"},Hybrid:{Map:"http://mt{s}.google.cn/vt/lyrs=y&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}"},subdomains:["0","1","2","3"]},Geoq:{Normal:{Map:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}",Color:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetColor/MapServer/tile/{z}/{y}/{x}",PurplishBlue:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",Gray:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}",Warm:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}",Cold:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetCold/MapServer/tile/{z}/{y}/{x}"}}}}),olineTileLayer=function(t,e){return new OlineTileLayer(t,e)},MultiCanvas=L.Renderer.extend({getEvents:function(){var t=L.Renderer.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},initialize:function(t){L.Renderer.prototype.initialize.call(this,t),this._polylineDrawing=!1},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){L.Renderer.prototype.onAdd.call(this),this._dataQueue=[],this.on("run",this._runDrawing,this),this.on("pause",this._pauseDrawing,this),this._draw()},_runDrawing:function(){this._polylineDrawing=!0,this._updatePaths()},_pauseDrawing:function(){cancelAnimationFrame(this._requestID)},_initContainer:function(){var t=this._container=document.createElement("canvas");this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,remove(this._container),off(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var t in this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){L.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=L.Browser.retina?2:1;L.DomUtil.setPosition(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",L.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){L.Renderer.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._layers[L.Util.stamp(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._requestRedraw(t)},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||L.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new L.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_getAngle:function(t,e,i,n){var r=Math.abs(t-i),s=Math.abs(e-n),a=s/Math.sqrt(Math.pow(r,2)+Math.pow(s,2)),o=Math.acos(a),h=Math.floor(180/(Math.PI/o));return i>t&&n>e&&(h=180-h),i==t&&n>e&&(h=180),i>t&&n==e&&(h=90),i<t&&n>e&&(h=180+h),i<t&&n==e&&(h=270),i<t&&n<e&&(h=360-h),h},_dataFilter:function(t){isNaN(t)||this._dataQueue.push(t),this._dataQueue.length>10&&this._dataQueue.shift();for(var e=0,i=0;i<this._dataQueue.length;i++)e+=this._dataQueue[i];return e/=this._dataQueue.length},_updateMultiPoly:function(t){if(this._drawing){var e=0,i=this._ctx,n=function(){var e,i,r=t._curGroupNum,s=t._groupArray[r].parts;if(t._curGroupCount||r){if(!t._curGroupCount&&r){var a=t._groupArray[r-1].parts;e=a[a.length-1]}else e=s[t._curGroupCount-1];this._curPointPos=[r,t._curGroupCount],i=s[t._curGroupCount++],this._curAngle=this._dataFilter(this._getAngle(e.x,e.y,i.x,i.y)),this._curColor=t._groupArray[r].color;var o=L.point([i.x-e.x,i.y-e.y]);t._curGroupCount>=s.length&&(t._curGroupCount=0,t._curGroupNum++,t._curGroupNum>=t._groupArray.length&&(this._isAnimationNextFrame=!1,this._curPointPos=void 0)),map.panBy(o,{animate:!1})}else t._curGroupCount++;this._isAnimationNextFrame?this._requestID=requestAnimationFrame(n.bind(this)):(cancelAnimationFrame(this._requestID),this.fire("pathdrawingend"))};if(this._curPointPos){var r=t._groupArray[this._curPointPos[0]].parts[this._curPointPos[1]];i.save(),i.translate(r.x,r.y),i.rotate(this._curAngle*Math.PI/180),i.translate(-12,-20),i.scale(.3,.3),this._drawCruise(i,this._curColor),i.restore()}for(e=0;e<t._curGroupNum;e++)this._updatePolyOneGroup(t,i,e,-1);t._curGroupCount&&t._curGroupNum<t._groupArray.length&&this._updatePolyOneGroup(t,i,t._curGroupNum,t._curGroupCount),this._polylineDrawing&&(this._polylineDrawing=!1,this.fire("pathdrawingbegin"),this._isAnimationNextFrame=!0,this._requestID=requestAnimationFrame(n.bind(this)))}},_updatePolyOneGroup:function(t,e,i,n){var r,s=t.options,a=t._groupArray[i].parts,o=-1==n?a.length:n;if(o){if(e.beginPath(),i){var h=t._groupArray[i-1].parts;r=h[h.length-1],e.moveTo(r.x,r.y)}for(j=0;j<o;j++)r=a[j],e[i||j?"lineTo":"moveTo"](r.x,r.y);s.stroke&&0!==s.weight&&(e.globalAlpha=s.opacity,e.lineWidth=s.weight,e.strokeStyle=t._groupArray[i].color,e.lineCap=s.lineCap,e.lineJoin=s.lineJoin,e.stroke())}},_drawCruise:function(t,e){t.save(),t.strokeStyle="rgba(0,0,0,0)",t.miterLimit=4,t.font="normal normal 400 normal 15px / 21.4286px ''",t.font="   15px ",t.scale(.4,.4),t.scale(.1953125,.1953125),t.save(),t.fillStyle=e,t.font="   15px ",t.beginPath(),t.moveTo(512.030699,2.118244),t.bezierCurveTo(482.132762,2.118244,455.19115600000003,19.501146000000002,443.48658,46.328142),t.lineTo(62.697971,920.890644),t.bezierCurveTo(49.836035,950.3823289999999,58.353013000000004,984.6262469999999,83.615373,1005.079068),t.bezierCurveTo(97.347119,1016.20343,114.26646400000001,1021.881756,131.243113,1021.881756),t.bezierCurveTo(145.496745,1021.881756,159.86498699999999,1017.883699,172.381046,1009.772974),t.lineTo(520.664334,784.3815969999999),t.lineTo(850.174046,1008.78753),t.bezierCurveTo(863.037005,1017.535775,877.9281569999999,1021.881756,892.818285,1021.881756),t.bezierCurveTo(909.447011,1021.881756,926.075736,1016.43572,939.692872,1005.65826),t.bezierCurveTo(965.477118,985.262744,974.283691,950.672948,961.304076,920.8916670000001),t.lineTo(580.575842,46.329165),t.bezierCurveTo(568.871265,19.50217,541.870308,2.118244,512.030699,2.118244),t.fill(),t.stroke(),t.restore(),t.restore()},_bringToFront:function(t){var e=t._order,i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),MultiPolyline=L.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:5,opacity:1,lineCap:"round",lineJoin:"round",interactive:!0,bubblingMouseEvents:!0,smoothFactor:1,noClip:!0,renderer:multiCanvas(),fitbounds:!1},initialize:function(t,e,i){L.Util.setOptions(this,i),this._setLatLngs(t,e)},beforeAdd:function(t){this._renderer=t.getRenderer(this),this._renderer._redrawTime=10*this._groupSize},onAdd:function(){this._renderer._initPath(this),this._reset()},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},setLatLngs:function(t,e){return this._setLatLngs(t,e),this.redraw()},beginCruise:function(){this._renderer._polylineDrawing=!0,this._curGroupNum=0,this._curGroupCount=0,this.options.fitbounds?this._map.fitBounds(this._bounds):this._fitBeginZoom(this._map,this._bounds,this._latlngs[0])},getBounds:function(){return this._bounds},_fitBeginZoom:function(t,e,i){var n=t._getBoundsCenterZoom(e),r=n.zoom,s=(n.center,t.getMaxZoom());s>r+2?r+=3:s>r+1?r+=2:s>r&&(r+=1),t.setView(i,r)},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(L.Browser.touch?10:0)},_setLatLngs:function(t,e){this._bounds=new L.LatLngBounds,this._latlngs=t;var n=this._groupSize=20;this._groupArray=[];var r=[],s=0,a=0,o=0;for(i=0;s<t.length;)this._bounds.extend(t[s]),a+=e[s],r[i++]=t[s++],(i>=n||s==t.length)&&(this._groupArray[o]={},this._groupArray[o].speed=a/i,this._groupArray[o].color=this._setColor(this._groupArray[o].speed),a=0,i=0,this._groupArray[o++].latlngs=r,r=[]);this._curGroupNum=o},_project:function(){for(var t=this._clickTolerance(),e=new L.Point(t,t),i=new L.Bounds,n=0;n<this._groupArray.length;n++){for(var r=new L.Bounds,s=[],a=0;a<this._groupArray[n].latlngs.length;a++)s[a]=this._map.latLngToLayerPoint(this._groupArray[n].latlngs[a]),i.extend(s[a]),r.extend(s[a]);this._groupArray[n].rings=s,this._groupArray[n].pxBounds=r}this._bounds.isValid()&&i.isValid()&&(i.min._subtract(e),i.max._add(e),this._pxBounds=i)},_projectLatlngs:function(t,e,i){var n,r,s=t.length;for(r=[],n=0;n<s;n++)r[n]=this._map.latLngToLayerPoint(t[n]),i.extend(r[n]);e.push(r)},_clipPoints:function(){var t=this._renderer._bounds,e=0;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)for(e=0;e<this._groupArray.length;e++)this._groupArray[e].parts=this._groupArray[e].rings;else;},_setColor:function(t){return t<=20?"#FF0000":t<=40?"#FF4500":t<=60?"#FF3030":t<=80?"#FFA500":t<=100?"#FFD700":t<=120?"#FFFF00":t<=150?"#C0FF3E":t<=250?"#7FFF00":"#00FF00"},_update:function(){this._map&&(this._clipPoints(),this._updatePath())},_updatePath:function(){this._renderer._updateMultiPoly(this)},_containsPoint:function(t,e){var i,n,r,s,a,o,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(n=0,r=(a=(o=this._parts[i]).length)-1;n<a;r=n++)if((e||0!==n)&&L.LineUtil.pointToSegmentDistance(t,o[r],o[n])<=h)return!0;return!1}}),multiPolyline=function(t,e,i){return new MultiPolyline(t,e,i)},FileInput=L.Control.extend({options:{position:"topleft",inputTitle:"请选择GPS数据文件"},initialize:function(t){L.Util.setOptions(this,t)},onAdd:function(t){this._map=t;var e=L.DomUtil.create("div","leaflet-navigate-section"),i=L.DomUtil.create("div","leaflet-navigate-toolbar leaflet-bar enable",e),n=L.DomUtil.create("a",null,i);n.setAttribute("role","button"),n.setAttribute("title",this.options.inputTitle),n.setAttribute("aria-label",this.options.inputTitle),n.setAttribute("href","#");var r=L.DomUtil.create("input",null,i);return r.setAttribute("type","file"),r.setAttribute("accept",".txt"),this._createActionDom(e),this._inputDiv=i,this._inputButton=n,this._inputElement=r,L.DomEvent.on(r,"change",this._fileReader,this),e},onRemove:function(t){},_createActionDom:function(t){var e=L.DomUtil.create("ul","leaflet-navigate-actions",t),i=L.DomUtil.create("li",null,e),n=L.DomUtil.create("a",null,i),r=document.createTextNode("❚❚");e.style.display="none",n.appendChild(r),n.setAttribute("href","#"),n.setAttribute("title","暂停"),this._actionRunning=!0,this._actionUl=e,this._actionA=n,this._actionText=r,L.DomEvent.on(n,"click",this._actionCallback,this)},_setActionVisible:function(t){this._actionUl.style.display=t?"inline":"none"},_setActionRun:function(t){t?(this._actionText.nodeValue="►",this._actionA.setAttribute("title","继续")):(this._actionText.nodeValue="❚❚",this._actionA.setAttribute("title","暂停"))},_actionCallback:function(){var t=this._inputDiv,e=this._inputElement;!1===this._actionRunning?(this._setActionRun(!1),this._renderer.fire("run"),this._actionRunning=!0,t.classList.remove("enable"),t.classList.add("disable"),e.setAttribute("disabled","disabled")):(t.classList.remove("disable"),t.classList.add("enable"),e.removeAttribute("disabled","disabled"),this._setActionRun(!0),this._renderer.fire("pause"),this._actionRunning=!1)},_actionReset:function(){this._setActionRun(!1),this._actionRunning=!0},_setEnable:function(){var t=this._inputElement,e=(this._inputButton,this._map),i=this._inputDiv;i.classList.remove("disable"),i.classList.add("enable"),t.removeAttribute("disabled","disabled"),this._setActionVisible(!1),this._setActionRun(!1),this._markerEnd?(this._markerEnd.setOpacity(1),this._markerEnd.setLatLng(this._endLatlng)):this._markerEnd=L.marker(this._endLatlng,{icon:L.icon({iconUrl:"images/marker-end.png",iconRetinaUrl:"images/marker-end-2x.png",iconSize:[31,45],iconAnchor:[15,41],popupAnchor:[1,-28]})}).addTo(e)},_setDisable:function(){var t=this._inputElement,e=(this._inputButton,this._map),i=this._inputDiv;i.classList.remove("enable"),i.classList.add("disable"),t.setAttribute("disabled","disabled"),this._setActionVisible(!0),this._markerEnd&&this._markerEnd.setOpacity(0),this._markerStart?this._markerStart.setLatLng(this._startLatlng):this._markerStart=L.marker(this._startLatlng,{icon:L.icon({iconUrl:"images/marker-start.png",iconRetinaUrl:"images/marker-start-2x.png",iconSize:[31,45],iconAnchor:[15,41],popupAnchor:[1,-28]})}).addTo(e)},_fileReader:function(){var t=this._map,e=this._inputElement.files[0];this._inputElement.value="";var i=new FileReader;i.readAsText(e),i.onload=function(e){for(var i=[],n=[],r=0,s=e.target.result.split("\r"),a=0;a<s.length;a++)if(-1!=s[a].search("GPRMC")){var o=s[a].split(",");if("A"!=o[2]||!o[3]||!o[5])continue;var h=parseInt(o[3].slice(0,2))+parseFloat(o[3].slice(2))/60,u=parseInt(o[5].slice(0,3))+parseFloat(o[5].slice(3))/60;isNaN(parseFloat(o[7]))||(r=1.852*parseFloat(o[7])),n.push(r);var l=LnglatConvert.wgs84togcj02([h,u]);i.push(l)}this._startLatlng=i[0],this._endLatlng=i[i.length-1],this._multiPolyline?this._multiPolyline.setLatLngs(i,n):(this._multiPolyline=L.multiPolyline(i,n),this._multiPolyline.addTo(t),this._renderer=this._multiPolyline.options.renderer,this._renderer.on("pathdrawingend",this._setEnable,this),this._renderer.on("pathdrawingbegin",this._setDisable,this)),this._actionReset(),this._multiPolyline.beginCruise()}.bind(this)}}),fileInput=function(t){return new FileInput(t)};L.CRS.GCJ02=GCJ02,L.TileLayer.OlineTileLayer=OlineTileLayer,L.tileLayer.olineTileLayer=olineTileLayer,L.LnglatConvert=LnglatConvert,L.MultiCanvas=MultiCanvas,L.multiCanvas=multiCanvas,L.MultiPolyline=MultiPolyline,L.multiPolyline=multiPolyline,L.Control.FileInput=FileInput,L.control.fileinput=fileInput});